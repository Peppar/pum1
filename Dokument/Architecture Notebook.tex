% Standardinkluderingsfil
\input{standard}

\ifpdf
  \DeclareGraphicsExtensions{.pdf, .jpg, .tif, .png}
  \pdfinfo{            
    /Title  (Architecture Notebook)
    /Author (PUM-grupp 1)
  }
\else
  \DeclareGraphicsExtensions{.eps, .jpg}
\fi

\title{Distribuerad wiki \\ Architecture Notebook}
\author{PUM-grupp 1}
\date{\today}

\begin{document}

\maketitle

\thispagestyle{empty}
\newpage
\section{Syfte}
Detta dokument syftar till att beskriva de filosofier och motiveringar som står till grund för det arkitekturella ramverket för projektet.
\section{Arkitekturella mål och filosofi}
Arkitekturen i projektet drivs till stor del av de krav som har stipulerats.
\section{Antaganden och beroenden}
I denna sektion nämns de antaganden och beroenden som finns och som tillsammans bygger upp en bild över hur programvaran kommer byggas.
\begin{itemize}
\item Systemet skall fungera på Linux
\item Systemet skall fungera decentraliserat
\item Systemet skall kunna kommunicera via nätverk
\item Systemet skall lokalt lagra data över lång tid
\end{itemize}
\section{Arkitekturellt signifikanta krav}
Här kommer referenser till krav i andra dokument att finnas.
\section{Beslut, begrängningar och motiveringar}
Här kommer en lista med beslut, begränsningar och motiveringar att finnas.
\begin{itemize}
\item Beslut eller begränsning med motivering
\end{itemize}
\section{Arkitekturella mekanismer}
I denna sektion nämns de olika mekanismerna som driver programvaran. Dessa kommer få mer detaljerade beskrivningar under senare iterationer.
\subsection{Säkerhet}
Som en del av programvarans specifikation nämns säkerhet mellan klienterna. Klienterna måste kunna lita på att datan som är överförd verkligen inte är en förfalskning.

\begin{itemize}
\item Mellan vilka arkitekturella moduler och i vilka instanser är säker kommunikation nödvändig?
\item Vilken data är relevant att kryptera eller verifiera?
\item Hur stor del av fokus ska säkerhet få innan övriga delar börjar lida för mycket?
\end{itemize}
\subsection{Debuggning}
Programvaran kommer med största sannolikhet behöva debuggas under utvecklingstiden. Debuggning kommer vara relevant i många delar av programvaran.

Debuggning kan ske passivt och aktivt. Aktivt genom att till exempel stega kod under körning. Passivt genom loggning.

Frågor rörande debuggning som kommer utvecklas senare i projektet följer.
\begin{itemize}
\item I vilka instanser kommer debuggning vara relevant?
\item Vilka debuggningssystem skall användas?
\item Hur stora datamängder behöver loggas?
\item Hur ska loggning ske utan att användarens integritet kränks?
\end{itemize}
\subsection{Lagring}
Lagringsmekanismen är den mekanism som sköter den lokalt lagrade datan hos alla klienter.

För en wiki krävs att en viss mängd data lagras om varje artikel. Redigeringshistoria är i många fall essentiell men kan i många fall var ointressant nog att inte automatiskt distribueras.

Lagringsmekanismen tar upp en viss mängd lokalt utrymme på ett icke-flyktigt medium, till exempel på en hårddisk. Lagringsmekanismen kommunicerar med distributionsmekanismen när det blir aktuellt växla data med andra klienter.

Relevanta frågor som rör lagring följer.
\begin{itemize}
\item Hur mycket utrymme krävs?
\item Vad händer om det inte finns mer lokalt utrymme?
\item Vad händer om en delmängd av datan saknas eller blir korrupt?
\end{itemize}
\subsection{Distribuering}
Distribueringsmekanismen är den som sköter synkroniseringen klienterna emellan. Den ser till att uppdateringar sprider sig över nätverket till så många klienter som möjligt.

För att möjliggöra distribution håller distributionsmekanismen koll på alla ändringar som skett, tar emot ändringar från andra klienter och skickar iväg lokala sådana. Om en konflikt sker ser distributionsmekanismen till att den ansvarige skribenten blir meddelad om konflikten samtidigt som den gamla, konfliktfria versionen görs tillgänglig för den lokala användaren. Detta för att en tredje part inte ska behöva lägga sig i en redigeringskonflikt mellan två andra.

Relevanta frågor som rör distribuering följer.
\begin{itemize}
\item Hur ofta skall synkronisering ske?
\item Vad händer om en användare bryter en pågående distribution?
\end{itemize}
\subsection{Kommunikation}
Kommunikationsmekanismen är en delmängd av distrubueringsmekanismen. Den ser till att data felfritt kan kommuniceras mellan klienterna.

\begin{itemize}
\item Vilken kommunikationsmetod skall väljas?
\item Hur skall felfri kommunikation säkerställas?
\item Ska kommunikationen ske krypterat?
\end{itemize}
\subsection{Redigering}
Redigeringsmekanismen finns lokalt hos klienten och tillåter användaren att redigera wiki-sidor via ett grafiskt gränssnitt.

När användaren redigerat klart sparas ändringen till det lokala versionshanteringssystemet och distributionsmekanismen informeras.
\subsection{Bläddring}
Bläddringsmekanismen går ut på att visa wiki-sidor för användaren. Användaren kan använda bläddringsmekanismen för att utforska sin lokala kopia av den distribuerade wikin. När ändringar sker i sidor som är i vy ser bläddringsmekanismen till att uppdateringarna presenteras till användaren på smidigast möjliga sätt.
\section{Huvudabstraktioner}
Här definieras de abstraktioner som används för att beskriva systemet.
\subsection*{Användare}
En användare är en person i systemet. 
\subsection*{Klient}
En klient är en instans av programvaran som körs aktivt på någon plattform. En användare kan inneha en klient.
\subsection*{Nyckel}
En datamängd som används för signering eller verifiering av annan data.
\section{Arkitekturellt ramverk}
Det arkitekturella ramverket definierar hur systemet är sammansatt. Ramverket definieras bättre under senare delar av projektet.
\section{Arkitekturella vyer}
Här definieras de vyer som används för att beskriva systemarkitekturen.
\subsection{Logisk vy}
Den här vyn presenterar systemets funktionalitet genom logiska beskrivningar av händelseförloppen när programvaran används.
\subsection{Användarfall}
Den här vyn presenterar systemet ur ett användarperspektiv. För tillfället representeras denna vyn bäst i de framtagna användarfallen. 
\subsection{Processvy}
Processvyn presenterar de olika processnoderna som systemet utgör. För närvarande är en klient en process, men det kan komma att utvecklas.
\end{document}
